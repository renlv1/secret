webpackJsonp([35],{"/aDP":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("mvHQ"),n=s.n(i),o=s("Dd8w"),a=s.n(o),r=s("NYxO"),c=s("vNvs"),p={data:function(){return{renewPrice:0,currentAiObj:Object,incrementYear:"",incrementYearTipShow:!1,orderId:"",verificationShow:!1,tradePasswordShow:!1,bindPhoneShow:!1,safePassword:"",safePasswordTipShow:!1,payCode:"",ggCodeTipShow:!1,phoneCodeTipShow:!1,sendBtnTimes:60,successShow:!1}},mounted:function(){var t=this;this.$nextTick(function(){t.renewPrice=parseFloat(t.$route.query.renewPrice),t.getMyAi()})},computed:a()({},Object(r.b)(["userInfo"]),{expireDate:function(){return""!==this.incrementYear?this.$changeDate(this.currentAiObj.userEndTime+31536e6*parseInt(this.incrementYear),"/",1):this.$changeDate(this.currentAiObj.userEndTime,"/",1)}}),methods:{checkNum:function(){/^\d*$/.test(this.incrementYear)||(isNaN(parseInt(this.incrementYear))?this.incrementYear="":this.incrementYear=parseInt(this.incrementYear)),/^0\d+/.test(this.incrementYear)&&(this.incrementYear=0),this.incrementYear.length>=6&&(this.incrementYear=this.incrementYear.substring(0,this.incrementYear.length-1))},getMyAi:function(){var t=this,e=new FormData;e.append("pageIndex",1),e.append("pageSize",20),this.$http.post(this.$api+"/product/queryBuyRobot",e).then(function(e){e.data.success&&e.data.data.darwinSets.forEach(function(e){parseInt(t.$route.query.aiId)===e.product.id&&(t.currentAiObj=e)})})},sureFun:function(){var t=this;if(2!==this.userInfo.openGoogleCode)Object(c.a)({msg:this.$t("buySie.text19"),okFn:function(){t.$router.push("/userAccount")}});else{var e=void 0;""===this.incrementYear?this.incrementYearTipShow=!0:1===this.userInfo.openTradePassword?this.tradePasswordShow=!0:2===this.userInfo.openTradePassword&&(2!==this.userInfo.openMobileCode&&2!==this.userInfo.openGoogleCode?this.bindPhoneShow=!0:(e=this.$route.query.type&&1===parseInt(this.$route.query.type)?1:this.incrementYear,this.$http.post(this.$api+"/product/renewRobotAi?renewyear="+e+"&productid="+this.currentAiObj.product.id).then(function(e){e.data.success?(t.verificationShow=!0,t.orderId=e.data.data.id):t.$store.dispatch("errAction",{bool:!0,msg:e.data.msg})}).catch(function(t){console.log(t)})))}},confirmRenew:function(){var t=this;if(""===this.safePassword&&(this.safePasswordTipShow=!0),""===this.payCode&&(2===this.userInfo.openGoogleCode?this.ggCodeTipShow=!0:this.phoneCodeTipShow=!0),""!==this.safePassword&&""!==this.payCode){var e=this.$api+"/transaction/paymentByOrderId?orderid="+this.orderId+"&tradePwd="+this.safePassword+"&code="+this.payCode;this.$http.post(e).then(function(e){e.data.success?t.successShow=!0:t.$store.dispatch("errAction",{bool:!0,msg:e.data.msg})}).catch(function(t){console.log(t)}),this.verificationShow=!1,this.safePassword="",this.payCode=""}},countDown:function(){var t=this;0===this.sendBtnTimes?(this.$refs.sendMsg.innerHTML=this.$t("popoup.text13"),this.sendBtnTimes=60,this.$refs.sendMsg.style.color="rgba(201,0,16)",this.$refs.sendMsg.disabled=!1):(this.sendBtnTimes--,this.$refs.sendMsg.innerHTML=this.sendBtnTimes,this.$refs.sendMsg.disabled=!0,this.$refs.sendMsg.style.color="rgba(255,255,255,0.6)",setTimeout(function(){return t.countDown()},1e3))},sendPhoneCode:function(){var t=this,e=void 0,s=new FormData;s.append("json",n()({type:"code"})),this.$http.post(this.$api+"/user/sendSmsCode",s).then(function(s){e=s.data.success?t.$t("popoup.text16"):s.data.msg,t.$store.dispatch("errAction",{bool:!0,msg:e})}).catch(function(t){console.log(t)}),this.countDown()},closeSuccessPopup:function(){this.successShow=!1,this.incrementYear="",this.sendBtnTimes=0,this.$router.push("/home/myAi")}}},u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"renewAdvance secret-content72"},[i("div",{staticClass:"breadcrumb"},[i("router-link",{attrs:{to:{path:"/home/myAi"}}},[t._v(t._s(t.$t("AI.renewAdvance.text1"))),i("i")]),t._v(" "),t.currentAiObj.product?i("router-link",{attrs:{to:{path:"/home/myAi/aiManage",query:{aiId:t.currentAiObj.product.id}}}},[t._v(t._s(t.$t("AI.renewAdvance.text2"))),i("i")]):t._e(),t._v(" "),t.$route.query.type?t._e():i("a",[t._v(t._s(t.$t("AI.renewAdvance.text3")))]),t._v(" "),t.$route.query.type?i("a",[t._v(t._s(t.$t("AI.renewAdvance.text4")))]):t._e()],1),t._v(" "),i("ul",[i("li",{staticClass:"fst-li"},[t.currentAiObj.product?i("h3",[t._v(t._s(t.currentAiObj.product.name)+t._s(t.$t("AI.renewAdvance.text5")))]):t._e(),t._v(" "),i("p",[t._v(t._s(t.$t("AI.renewAdvance.text6"))+"："+t._s(t.$changeDate(t.currentAiObj.userEndTime,"/",1)))]),t._v(" "),i("span",[t._v(t._s(t.$t("AI.renewAdvance.text7"))+"："+t._s(t.renewPrice)+" SIE/"+t._s(t.$t("AI.renewAdvance.text11")))])]),t._v(" "),i("li",{staticClass:"scd-li"},[i("div",{staticClass:"inputTipBox"},[i("div",{staticClass:"inputTip-title"},[i("span",[t._v(t._s(t.$t("AI.renewAdvance.text8"))+"：")])]),t._v(" "),i("div",{staticClass:"inputTipDiv inputTipDiv-flex"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.incrementYear,expression:"incrementYear",modifiers:{trim:!0}}],staticClass:"secret-inputTip secret-input",attrs:{type:"text",placeholder:t.$t("AI.renewAdvance.text9")},domProps:{value:t.incrementYear},on:{input:[function(e){e.target.composing||(t.incrementYear=e.target.value.trim())},t.checkNum],focus:function(e){t.incrementYearTipShow=!1},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),i("span",[t._v(t._s(t.$t("AI.renewAdvance.text11")))])]),t._v(" "),i("span",{staticClass:"inputTipMsg",class:{inputTipMsgActive:t.incrementYearTipShow}},[t._v(t._s(t.$t("AI.renewAdvance.text9")))])]),t._v(" "),i("p",{staticClass:"endTime"},[t._v(t._s(t.$t("AI.renewAdvance.text12"))+"："+t._s(t.expireDate))]),t._v(" "),i("p",{staticClass:"cost"},[t._v(t._s(t.$t("AI.renewAdvance.text13"))+"："+t._s(t._f("fourNumber")(""===t.incrementYear?0:parseInt(t.incrementYear)*t.renewPrice))+" SIE")]),t._v(" "),i("button",{staticClass:"secret-btn",on:{click:function(e){return t.sureFun()}}},[t._v(t._s(t.$t("popoup.text15")))])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.tradePasswordShow,expression:"tradePasswordShow"}],staticClass:"myPopup"},[i("div",{staticClass:"myPopup-tip"},[i("a",{staticClass:"close-btn",on:{click:function(e){t.tradePasswordShow=!1}}},[i("img",{attrs:{src:s("KOGE"),alt:""}})]),t._v(" "),i("h3",{staticClass:"title"},[t._v(t._s(t.$t("popoup.text1")))]),t._v(" "),i("p",{staticClass:"subtitle"},[t._v(t._s(t.$t("popoup.text2")))]),t._v(" "),i("router-link",{staticClass:"secret-btn",attrs:{tag:"button",to:"/safeSetting"}},[t._v(t._s(t.$t("popoup.text3")))])],1)]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.bindPhoneShow,expression:"bindPhoneShow"}],staticClass:"myPopup"},[i("div",{staticClass:"myPopup-tip"},[i("a",{staticClass:"close-btn",on:{click:function(e){t.bindPhoneShow=!1}}},[i("img",{attrs:{src:s("KOGE"),alt:""}})]),t._v(" "),i("h3",{staticClass:"title"},[t._v(t._s(t.$t("popoup.text4")))]),t._v(" "),i("router-link",{staticClass:"secret-btn",attrs:{tag:"button",to:"/bindPhone"}},[t._v(t._s(t.$t("popoup.text5")))])],1)]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.verificationShow,expression:"verificationShow"}],staticClass:"myPopup verificationPopup"},[i("div",{staticClass:"myPopupBox"},[i("div",{staticClass:"verificationForm"},[i("h3",{staticClass:"secret-title"},[t._v(t._s(t.$t("popoup.text6")))]),t._v(" "),i("div",{staticClass:"inputTipBox"},[i("div",{staticClass:"inputTip-title"},[i("span",[t._v(t._s(t.$t("popoup.text7")))])]),t._v(" "),i("div",{staticClass:"inputTipDiv"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.safePassword,expression:"safePassword",modifiers:{trim:!0}}],staticClass:"secret-inputTip secret-input",attrs:{type:"password",placeholder:t.$t("popoup.text8")},domProps:{value:t.safePassword},on:{focus:function(e){t.safePasswordTipShow=!1},input:function(e){e.target.composing||(t.safePassword=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),i("span",{staticClass:"inputTipMsg",class:{inputTipMsgActive:t.safePasswordTipShow}},[t._v(t._s(t.$t("popoup.text8")))])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:2===t.userInfo.openGoogleCode,expression:"userInfo.openGoogleCode === 2"}],staticClass:"inputTipBox"},[i("div",{staticClass:"inputTip-title"},[i("span",[t._v(t._s(t.$t("popoup.text9")))])]),t._v(" "),i("div",{staticClass:"inputTipDiv"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.payCode,expression:"payCode",modifiers:{trim:!0}}],staticClass:"secret-inputTip secret-input",attrs:{type:"text",placeholder:t.$t("popoup.text10")},domProps:{value:t.payCode},on:{focus:function(e){t.ggCodeTipShow=!1},input:function(e){e.target.composing||(t.payCode=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),i("span",{staticClass:"inputTipMsg",class:{inputTipMsgActive:t.ggCodeTipShow}},[t._v(t._s(t.$t("popoup.text10")))])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:2!==t.userInfo.openGoogleCode&&2===t.userInfo.openMobileCode,expression:"userInfo.openGoogleCode !== 2 && userInfo.openMobileCode === 2"}],staticClass:"inputTipBox"},[i("div",{staticClass:"inputTip-title"},[i("span",[t._v(t._s(t.$t("popoup.text11")))])]),t._v(" "),i("div",{staticClass:"inputTipDiv"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.payCode,expression:"payCode",modifiers:{trim:!0}}],staticClass:"secret-inputTip secret-input",attrs:{type:"password",placeholder:t.$t("popoup.text12")},domProps:{value:t.payCode},on:{focus:function(e){t.phoneCodeTipShow=!1},input:function(e){e.target.composing||(t.payCode=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),i("button",{ref:"sendMsg",staticClass:"secret-btn",on:{click:function(e){return t.sendPhoneCode()}}},[t._v(t._s(t.$t("popoup.text13")))])]),t._v(" "),i("span",{staticClass:"inputTipMsg",class:{inputTipMsgActive:t.phoneCodeTipShow}},[t._v(t._s(t.$t("popoup.text12")))])])]),t._v(" "),i("div",{staticClass:"popupBtn"},[i("button",{staticClass:"secret-btn",on:{click:function(e){t.verificationShow=!1}}},[t._v(t._s(t.$t("popoup.text14")))]),t._v(" "),i("button",{staticClass:"secret-btn",on:{click:function(e){return t.confirmRenew()}}},[t._v(t._s(t.$t("popoup.text15")))])])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.successShow,expression:"successShow"}],staticClass:"myPopup"},[i("div",{staticClass:"myPopup-tip"},[i("h3",{staticClass:"title"},[t._v(t._s(t.$t("AI.renewAdvance.text14")))]),t._v(" "),i("button",{staticClass:"secret-btn",on:{click:function(e){return t.closeSuccessPopup()}}},[t._v(t._s(t.$t("popoup.text15")))])])])])},staticRenderFns:[]};var d=s("VU/8")(p,u,!1,function(t){s("ekAM")},"data-v-49cc19de",null);e.default=d.exports},ekAM:function(t,e){}});