webpackJsonp([25],{"Vg//":function(t,e){},mqqD:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("mvHQ"),a=s.n(i),n=s("Dd8w"),o=s.n(n),c=s("NYxO"),d={data:function(){return{codeTab:1,safePwd:"",safePwdTipShow:!1,reSafePwd:"",reSafePwdTipShow:!1,vCode:"",vCodeTipShow:!1,sendBtnTimes:60,successShow:!1}},computed:o()({},Object(c.b)(["userInfo"])),watch:{userInfo:function(){this.popUpTips()}},mounted:function(){var t=this;this.$nextTick(function(){t.$store.dispatch("balanceAction")})},methods:{popUpTips:function(){2!==this.userInfo.openGoogleCode&&(this.codeTab=3)},countDown:function(){var t=this;0===this.sendBtnTimes?(this.$refs.sendMsg.innerHTML=this.$t("bindPhone.text8"),this.sendBtnTimes=60,this.$refs.sendMsg.style.color="rgba(0, 131, 245, 0.9)",this.$refs.sendMsg.disabled=!1):(this.sendBtnTimes--,this.$refs.sendMsg.innerHTML=this.sendBtnTimes,this.$refs.sendMsg.disabled=!0,this.$refs.sendMsg.style.color="rgba(43, 52, 54, 0.9)",setTimeout(function(){return t.countDown()},1e3))},sendPhoneCode:function(){var t=this,e=new FormData,s=void 0;3===this.codeTab?(e.append("email",this.userInfo.email),e.append("type",1),this.$http.post(this.$api+"/register/sendEmailCode",e).then(function(e){s=e.data.success?t.$t("safeSetting.text15"):e.data.msg,t.$store.dispatch("errAction",{bool:!0,msg:s})}).catch(function(t){console.log(t)})):2!==this.codeTab&&5!==this.codeTab||(e.append("json",a()({type:"code"})),this.$http.post(this.$api+"/user/sendSmsCode",e).then(function(e){s=e.data.success?t.$t("safeSetting.text15"):e.data.msg,t.$store.dispatch("errAction",{bool:!0,msg:s})}).catch(function(t){console.log(t)})),this.countDown()},completeFun:function(){var t=this;if(""===this.safePwd&&(this.safePwdTipShow=!0),""!==this.reSafePwd&&this.safePwd===this.reSafePwd||(this.reSafePwdTipShow=!0),""===this.vCode&&(this.vCodeTipShow=!0),""!==this.safePwd&&/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[^]{8,16}$/.test(this.safePwd)&&this.safePwd===this.reSafePwd&&""!==this.vCode){var e=void 0;3===this.codeTab?e=1:1!==this.codeTab&&4!==this.codeTab||(e=3);var s=new FormData;s.append("tradePwd",this.safePwd),s.append("verifyCode",this.vCode),s.append("type",e),this.$http.post(this.$api+"/user/setTractionPwdNew",s).then(function(e){e.data.success?(t.sendBtnTimes=0,t.successShow=!0):t.$store.dispatch("errAction",{bool:!0,msg:e.data.msg})})}},closeSuccessPopup:function(){this.successShow=!1,this.$router.go(-1)}}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bindPhone secret-wrap"},[i("a",{staticClass:"secret-back",on:{click:function(e){return t.$router.go(-1)}}},[i("img",{attrs:{src:s("n5Zd"),alt:""}}),t._v(t._s(t.$t("safeSetting.text1")))]),t._v(" "),i("div",{staticClass:"secret-wrap-ct"},[i("h3",{staticClass:"title"},[t._v(t._s(t.$t("safeSetting.text2")))]),t._v(" "),i("div",{staticClass:"inputTipBox inputTipBox-safe",staticStyle:{"z-index":"0"}},[i("div",{staticClass:"inputTip-title"},[i("span",[i("i",[t._v("1.")]),t._v(t._s(t.$t("safeSetting.text3")))])]),t._v(" "),i("div",{staticClass:"inputTipDiv"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.safePwd,expression:"safePwd",modifiers:{trim:!0}}],staticClass:"secret-inputTip secret-input",attrs:{type:"password",placeholder:t.$t("safeSetting.text4")},domProps:{value:t.safePwd},on:{focus:function(e){t.safePwdTipShow=!1},input:function(e){e.target.composing||(t.safePwd=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),i("span",{staticClass:"inputTipMsg",class:{inputTipMsgActive:t.safePwdTipShow}},[t._v(t._s(t.$t("safeSetting.text4")))])]),t._v(" "),i("p",{staticClass:"safePwdTip"},[t._v(t._s(t.$t("safeSetting.text3_1")))]),t._v(" "),i("div",{staticClass:"inputTipBox",staticStyle:{"z-index":"0"}},[i("div",{staticClass:"inputTip-title"},[i("span",[i("i",[t._v("2.")]),t._v(t._s(t.$t("safeSetting.text5"))+"：")])]),t._v(" "),i("div",{staticClass:"inputTipDiv"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.reSafePwd,expression:"reSafePwd",modifiers:{trim:!0}}],staticClass:"secret-inputTip secret-input",attrs:{type:"password",placeholder:t.$t("safeSetting.text6")},domProps:{value:t.reSafePwd},on:{focus:function(e){t.reSafePwdTipShow=!1},input:function(e){e.target.composing||(t.reSafePwd=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),i("span",{staticClass:"inputTipMsg",class:{inputTipMsgActive:t.reSafePwdTipShow}},[t._v(t._s(t.$t("safeSetting.text6")))])]),t._v(" "),i("div",{staticClass:"inputTipBox",class:{inputTipBoxTab:4===t.codeTab||5===t.codeTab}},[1===t.codeTab?i("div",{staticClass:"inputTip-title"},[i("span",[i("i",[t._v("3.")]),t._v(t._s(t.$t("safeSetting.text9"))+"：")])]):t._e(),t._v(" "),3===t.codeTab?i("div",{staticClass:"inputTip-title"},[i("span",[i("i",[t._v("3.")]),t._v(t._s(t.$t("safeSetting.text10"))+"：")])]):t._e(),t._v(" "),i("div",{staticClass:"inputTipDiv"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.vCode,expression:"vCode",modifiers:{trim:!0}}],staticClass:"secret-inputTip secret-input",attrs:{type:"text",placeholder:t.$t("safeSetting.text11")},domProps:{value:t.vCode},on:{focus:function(e){t.vCodeTipShow=!1},input:function(e){e.target.composing||(t.vCode=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:2===t.codeTab||3===t.codeTab||5===t.codeTab,expression:"codeTab === 2 || codeTab === 3 || codeTab === 5"}],ref:"sendMsg",staticClass:"secret-btn",on:{click:function(e){return t.sendPhoneCode()}}},[t._v(t._s(t.$t("bindPhone.text8")))])]),t._v(" "),i("span",{staticClass:"inputTipMsg",class:{inputTipMsgActive:t.vCodeTipShow}},[t._v(t._s(t.$t("safeSetting.text11")))])]),t._v(" "),i("button",{staticClass:"secret-btn complete-btn",on:{click:function(e){return t.completeFun()}}},[t._v(t._s(t.$t("safeSetting.text12")))])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.successShow,expression:"successShow"}],staticClass:"myPopup"},[i("div",{staticClass:"myPopup-tip"},[i("h3",{staticClass:"title"},[t._v(t._s(t.$t("safeSetting.text13")))]),t._v(" "),i("button",{staticClass:"secret-btn",on:{click:function(e){return t.closeSuccessPopup()}}},[t._v(t._s(t.$t("safeSetting.text14")))])])])])},staticRenderFns:[]};var p=s("VU/8")(d,r,!1,function(t){s("Vg//")},"data-v-77f26518",null);e.default=p.exports}});