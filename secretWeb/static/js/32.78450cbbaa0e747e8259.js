webpackJsonp([32],{Q2KX:function(t,a){},ZWJE:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n={data:function(){return{bankInfoId:0,unitValue:"USD",unitSelectShow:!1,unitIndex:0,moneyUnit:[{name:"USD"},{name:"CNY"}],bankName:"",bankNameTipShow:!1,accountName:"",accountNameTipShow:!1,cardNum:"",cardNumTipShow:!1,branchName:"",branchNameTipShow:!1,branchAddress:"",branchAddressTipShow:!1,swift:"",iban:""}},mounted:function(){var t=this;this.$nextTick(function(){t.$route.query.currencyType&&("USD"===t.$route.query.currencyType?t.unitIndex=0:(t.unitValue="CNY",t.unitIndex=1)),t.$route.query.id&&(t.bankInfoId=t.$route.query.id,t.getBankInfoDetail()),document.addEventListener("click",t.closeUnitMenu)})},destroyed:function(){document.removeEventListener("click",this.closeUnitMenu)},methods:{closeUnitMenu:function(t){this.$refs.discountBtn.contains(t.target)||(this.unitSelectShow=!1)},chooseUnit:function(t,a){this.unitValue=t,this.unitSelectShow=!1,this.unitIndex=a},completeFun:function(){""===this.bankName&&(this.bankNameTipShow=!0),""===this.accountName&&(this.accountNameTipShow=!0),""!==this.cardNum&&/^[1-9]\d*$/.test(this.cardNum)?this.cardNum.length<=4&&(this.$refs.carNumTip.innerHTML=this.$t("addTradeAccount.text13"),this.cardNumTipShow=!0):(this.$refs.carNumTip.innerHTML=this.$t("addTradeAccount.text5"),this.cardNumTipShow=!0),""===this.branchName&&(this.branchNameTipShow=!0),""===this.branchAddress&&(this.branchAddressTipShow=!0),""!==this.bankName&&""!==this.accountName&&""!==this.cardNum&&/^[1-9]\d*$/.test(this.cardNum)&&this.cardNum.length>4&&""!==this.branchName&&""!==this.branchAddress&&(this.bankInfoId?this.editBankInfo():this.addBankInfo())},getBankInfoDetail:function(){var t=this,a=new FormData;a.append("bankInfoId",this.bankInfoId),this.$http.post(this.$api+"/bank/bankInfoDetail",a).then(function(a){t.unitValue=a.data.data.currency,"USD"===t.unitValue?t.unitIndex=0:t.unitIndex=1,t.bankName=a.data.data.bankName,t.accountName=a.data.data.realName,t.cardNum=a.data.data.bankNumber,t.branchName=a.data.data.subBankName,t.branchAddress=a.data.data.bankAddress,t.swift=a.data.data.swift,t.iban=a.data.data.iban})},editBankInfo:function(){var t=this,a=this.$api+"/bank/editBankInfo",e=new FormData;e.append("id",this.bankInfoId),e.append("bankType","1"),e.append("currency",this.unitValue),e.append("bankName",this.bankName),e.append("subBankName",this.branchName),e.append("realName",this.accountName),e.append("bankNumber",this.cardNum),e.append("bankAddress",this.branchAddress),e.append("swift",this.swift),e.append("iban",this.iban),this.$http.post(a,e).then(function(a){a.data.success?(t.$router.go(-1),t.$store.dispatch("errAction",{bool:!0,msg:t.$t("addTradeAccount.text11")})):a.data.msg&&t.$store.dispatch("errAction",{bool:!0,msg:a.data.msg})}).catch(function(t){console.log(t)})},addBankInfo:function(){var t=this,a=this.$api+"/bank/addBankInfo",e=new FormData;e.append("bankType","1"),e.append("currency",this.unitValue),e.append("bankName",this.bankName),e.append("subBankName",this.branchName),e.append("realName",this.accountName),e.append("bankNumber",this.cardNum),e.append("bankAddress",this.branchAddress),e.append("swift",this.swift),e.append("iban",this.iban),this.$http.post(a,e).then(function(a){a.data.success?(t.$store.dispatch("errAction",{bool:!0,msg:t.$t("addTradeAccount.text12")}),t.unitIndex,t.$router.push({path:"/home/tradeAccount/tradeAccountManage",query:{currencyType:t.unitValue}})):a.data.msg&&t.$store.dispatch("errAction",{bool:!0,msg:a.data.msg})}).catch(function(t){console.log(t)})}}},i={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"addTradeAccount secret-content66"},[e("h3",{staticClass:"secret-title"},[t._v(t._s(t.$t("addTradeAccount.text1")))]),t._v(" "),e("div",{staticClass:"inputTipBox inputTipBox-select"},[e("div",{staticClass:"inputTip-title"},[e("span",[t._v(t._s(t.$t("addTradeAccount.text2"))+"ï¼š")])]),t._v(" "),e("div",{staticClass:"inputTipDiv"},[e("input",{staticClass:"secret-input secret-input-bordernone select-input",attrs:{type:"text",readonly:"",disabled:"",placeholder:t.unitValue}}),t._v(" "),e("a",{ref:"discountBtn",staticClass:"discount-btn",on:{click:function(a){t.unitSelectShow=!t.unitSelectShow}}},[e("i",{staticClass:"arrowDown",class:{arrowActive:t.unitSelectShow}})]),t._v(" "),e("ul",{staticClass:"selectMenu",class:{selectMenuActive:t.unitSelectShow}},t._l(t.moneyUnit,function(a,n){return e("li",{key:a.name,class:{liActive:t.unitIndex===n},on:{click:function(e){return t.chooseUnit(a.name,n)}}},[t._v(t._s(a.name))])}),0)])]),t._v(" "),e("div",{staticClass:"inputTipBox",staticStyle:{"z-index":"0"}},[e("div",{staticClass:"inputTipDiv"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.bankName,expression:"bankName",modifiers:{trim:!0}}],staticClass:"secret-inputTip secret-input",attrs:{type:"text",placeholder:t.$t("addTradeAccount.text3")},domProps:{value:t.bankName},on:{focus:function(a){t.bankNameTipShow=!1},input:function(a){a.target.composing||(t.bankName=a.target.value.trim())},blur:function(a){return t.$forceUpdate()}}})]),t._v(" "),e("span",{staticClass:"inputTipMsg",class:{inputTipMsgActive:t.bankNameTipShow}},[t._v(t._s(t.$t("addTradeAccount.text3")))])]),t._v(" "),e("div",{staticClass:"inputTipBox"},[e("div",{staticClass:"inputTipDiv"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.accountName,expression:"accountName",modifiers:{trim:!0}}],staticClass:"secret-inputTip secret-input",attrs:{type:"text",placeholder:t.$t("addTradeAccount.text4")},domProps:{value:t.accountName},on:{focus:function(a){t.accountNameTipShow=!1},input:function(a){a.target.composing||(t.accountName=a.target.value.trim())},blur:function(a){return t.$forceUpdate()}}})]),t._v(" "),e("span",{staticClass:"inputTipMsg",class:{inputTipMsgActive:t.accountNameTipShow}},[t._v(t._s(t.$t("addTradeAccount.text4")))])]),t._v(" "),e("div",{staticClass:"inputTipBox"},[e("div",{staticClass:"inputTipDiv"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.cardNum,expression:"cardNum",modifiers:{trim:!0}}],staticClass:"secret-inputTip secret-input",attrs:{type:"number",placeholder:t.$t("addTradeAccount.text5")},domProps:{value:t.cardNum},on:{focus:function(a){t.cardNumTipShow=!1},input:function(a){a.target.composing||(t.cardNum=a.target.value.trim())},blur:function(a){return t.$forceUpdate()}}})]),t._v(" "),e("span",{ref:"carNumTip",staticClass:"inputTipMsg",class:{inputTipMsgActive:t.cardNumTipShow}})]),t._v(" "),e("div",{staticClass:"inputTipBox"},[e("div",{staticClass:"inputTipDiv"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.branchName,expression:"branchName",modifiers:{trim:!0}}],staticClass:"secret-inputTip secret-input",attrs:{type:"text",placeholder:t.$t("addTradeAccount.text6")},domProps:{value:t.branchName},on:{focus:function(a){t.branchNameTipShow=!1},input:function(a){a.target.composing||(t.branchName=a.target.value.trim())},blur:function(a){return t.$forceUpdate()}}})]),t._v(" "),e("span",{staticClass:"inputTipMsg",class:{inputTipMsgActive:t.branchNameTipShow}},[t._v(t._s(t.$t("addTradeAccount.text6")))])]),t._v(" "),e("div",{staticClass:"inputTipBox"},[e("div",{staticClass:"inputTipDiv"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.branchAddress,expression:"branchAddress",modifiers:{trim:!0}}],staticClass:"secret-inputTip secret-input",attrs:{type:"text",placeholder:t.$t("addTradeAccount.text7")},domProps:{value:t.branchAddress},on:{focus:function(a){t.branchAddressTipShow=!1},input:function(a){a.target.composing||(t.branchAddress=a.target.value.trim())},blur:function(a){return t.$forceUpdate()}}})]),t._v(" "),e("span",{staticClass:"inputTipMsg",class:{inputTipMsgActive:t.branchAddressTipShow}},[t._v(t._s(t.$t("addTradeAccount.text7")))])]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.swift,expression:"swift",modifiers:{trim:!0}}],staticClass:"secret-input addTradeAccount-input",attrs:{type:"text",placeholder:t.$t("addTradeAccount.text8")},domProps:{value:t.swift},on:{input:function(a){a.target.composing||(t.swift=a.target.value.trim())},blur:function(a){return t.$forceUpdate()}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.iban,expression:"iban",modifiers:{trim:!0}}],staticClass:"secret-input addTradeAccount-input",attrs:{type:"text",placeholder:t.$t("addTradeAccount.text9")},domProps:{value:t.iban},on:{input:function(a){a.target.composing||(t.iban=a.target.value.trim())},blur:function(a){return t.$forceUpdate()}}}),t._v(" "),e("button",{staticClass:"secret-btn complete-btn",on:{click:function(a){return t.completeFun()}}},[t._v(t._s(t.$t("addTradeAccount.text10")))])])},staticRenderFns:[]};var s=e("VU/8")(n,i,!1,function(t){e("Q2KX")},"data-v-5c491e90",null);a.default=s.exports}});