webpackJsonp([7],{"6zoR":function(t,e){},esoZ:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("mvHQ"),r=s.n(i),o=s("Dd8w"),a=s.n(o),n=s("NYxO"),p=s("vNvs"),c={data:function(){return{navActive:1,payTitle:"",emailDialogShow:!1,fourCode:"",errorDesc:"",receiveAddress:"",receiveAddressTipShow:!1,transferNum:"",transferNumTipShow:!1,verificationShow:!1,tradePasswordShow:!1,bindPhoneShow:!1,safePassword:"",safePasswordTipShow:!1,payCode:"",ggCodeTipShow:!1,phoneCodeTipShow:!1,sendBtnTimes:60,successShow:!1,codeType:""}},computed:a()({},Object(n.b)(["userInfo","userBalanceSIE","outEthRate","siePrice"]),{transferType:function(){return parseInt(this.navActive)},feeNumber:function(){return""===this.transferNum?0:parseFloat(this.transferNum)*this.outEthRate/100*this.siePrice<3?3/this.siePrice:parseFloat(this.transferNum)*this.outEthRate/100}}),watch:{transferType:function(){this.receiveAddress="",this.transferNum="",this.receiveAddressTipShow=!1,this.transferNumTipShow=!1}},methods:{tabFn:function(t){this.navActive=t},sureEmailCode:function(){var t=this;this.errorDesc="",""===this.fourCode?this.errorDesc=this.$t("log.fiat.text16"):this.$http.post(this.$api+"/transferRecord/checkMailTransfer?receiveUser="+this.receiveAddress+"&emailPrefix="+this.fourCode).then(function(e){!0===e.data.success?(t.payTitle=t.$t("log.fiat.text17")+" "+e.data.data.receiveUser+" "+t.$t("log.fiat.text18"),t.verificationShow=!0,t.emailDialogShow=!1):t.errorDesc=e.data.msg})},checkTransferNum:function(){function t(t){if(!isNaN(t)&&null!==t){var e=(Math.floor(1e4*t)/1e4).toString(),s=e.indexOf(".");for(s<0&&(s=e.length,e+=".");e.length<=s+4;)e+="0";return e}}2===this.transferType&&t(this.userBalanceSIE*(1-this.outEthRate/100))<parseFloat(this.transferNum)&&(this.transferNum=t(Number(this.userBalanceSIE*(1-this.outEthRate/100))))},completeFun:function(){var t=this;this.fourCode="",this.errorDesc="",console.log(this.userInfo.openGoogleCode),2!==this.userInfo.openGoogleCode?Object(p.a)({msg:this.$t("buySie.text19"),okFn:function(){t.$router.push("/userAccount")}}):(""===this.receiveAddress&&(this.receiveAddressTipShow=!0),""===this.transferNum&&(this.transferNumTipShow=!0),""!==this.receiveAddress&&""!==this.transferNum&&(1===this.userInfo.openTradePassword?this.tradePasswordShow=!0:2===this.userInfo.openTradePassword&&(2!==this.userInfo.openMobileCode&&2!==this.userInfo.openGoogleCode?this.bindPhoneShow=!0:1===this.transferType?this.emailDialogShow=!0:this.verificationShow=!0)))},confirmTransfer:function(){var t=this;if(""===this.safePassword&&(this.safePasswordTipShow=!0),""===this.payCode&&(2===this.userInfo.openGoogleCode?this.ggCodeTipShow=!0:this.phoneCodeTipShow=!0),""!==this.safePassword&&""!==this.payCode){var e=void 0,s=new FormData;s.append("receiveAddress",this.receiveAddress),s.append("amount",this.transferNum),s.append("type",this.transferType),s.append("tradePwd",this.safePassword),s.append("codeType",2),s.append("code",this.payCode),1===this.transferType&&s.append("emailPrefix",this.fourCode),this.$http.post("/transferRecord/transferOut",s).then(function(s){t.receiveAddress="",t.transferNum="",e=s.data.success?t.$t("log.text11"):s.data.msg,t.$store.dispatch("errAction",{bool:!0,msg:e})}),this.verificationShow=!1,this.safePassword="",this.payCode="",this.sendBtnTimes=0}},countDown:function(){var t=this;0===this.sendBtnTimes?(this.$refs.sendMsg.innerHTML=this.$t("buySie.text17"),this.sendBtnTimes=60,this.$refs.sendMsg.style.color="rgba(201,0,16)",this.$refs.sendMsg.disabled=!1):(this.sendBtnTimes--,this.$refs.sendMsg.innerHTML=this.sendBtnTimes,this.$refs.sendMsg.disabled=!0,this.$refs.sendMsg.style.color="rgba(255,255,255,0.6)",setTimeout(function(){return t.countDown()},1e3))},sendPhoneCode:function(){var t=this,e=void 0,s=new FormData;s.append("json",r()({type:"code"})),this.$http.post(this.$api+"/user/sendSmsCode",s).then(function(s){e=s.data.success?t.$t("buySie.text16"):s.data.msg,t.$store.dispatch("errAction",{bool:!0,msg:e})}).catch(function(t){console.log(t)}),this.countDown()}}},u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"transferOut"},[2===t.transferType?i("div",[i("h3",{staticClass:"secret-title"},[t._v(t._s(t.$t("transferOut.text3")))]),t._v(" "),i("div",{staticClass:"secret-tab"},[i("div",{staticClass:"li interior2",on:{click:function(e){return t.tabFn(1)}}},[t._v(t._s(t.$t("transferOut.text13")))]),t._v(" "),i("div",{staticClass:"li rolloff2",on:{click:function(e){return t.tabFn(2)}}},[t._v(t._s(t.$t("transferOut.text14")))])]),t._v(" "),i("p",{staticClass:"secret-subtitle"},[t._v(t._s(t.$t("transferOut.text2")))])]):t._e(),t._v(" "),1===t.transferType?i("div",[i("h3",{staticClass:"secret-title"},[t._v(t._s(t.$t("transferOut.text3")))]),t._v(" "),i("div",{staticClass:"secret-tab"},[i("div",{staticClass:"li interior",on:{click:function(e){return t.tabFn(1)}}},[t._v(t._s(t.$t("transferOut.text13")))]),t._v(" "),i("div",{staticClass:"li rolloff",on:{click:function(e){return t.tabFn(2)}}},[t._v(t._s(t.$t("transferOut.text14")))])]),t._v(" "),i("p",{staticClass:"secret-subtitle"},[t._v(t._s(t.$t("transferOut.text4")))])]):t._e(),t._v(" "),i("div",{staticClass:"content"},[2===t.transferType?i("div",{staticClass:"inputTipBox"},[i("div",{staticClass:"inputTip-title"},[i("span",[i("i",[t._v("1.")]),t._v(t._s(t.$t("transferOut.text5"))+"：")])]),t._v(" "),i("div",{staticClass:"inputTipDiv inputTipDiv-flex"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.receiveAddress,expression:"receiveAddress",modifiers:{trim:!0}}],staticClass:"secret-inputTip secret-input",attrs:{type:"text",placeholder:t.$t("transferOut.text6")},domProps:{value:t.receiveAddress},on:{focus:function(e){t.receiveAddressTipShow=!1},input:function(e){e.target.composing||(t.receiveAddress=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),i("span",{staticClass:"inputTipMsg",class:{inputTipMsgActive:t.receiveAddressTipShow}},[t._v(t._s(t.$t("transferOut.text6")))])]):t._e(),t._v(" "),1===t.transferType?i("div",{staticClass:"inputTipBox"},[i("div",{staticClass:"inputTip-title"},[i("span",[i("i",[t._v("1.")]),t._v(t._s(t.$t("transferOut.text7"))+"：")])]),t._v(" "),i("div",{staticClass:"inputTipDiv inputTipDiv-flex"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.receiveAddress,expression:"receiveAddress",modifiers:{trim:!0}}],staticClass:"secret-inputTip secret-input",attrs:{type:"text",placeholder:t.$t("transferOut.text8")},domProps:{value:t.receiveAddress},on:{focus:function(e){t.receiveAddressTipShow=!1},input:function(e){e.target.composing||(t.receiveAddress=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),i("span",{staticClass:"inputTipMsg",class:{inputTipMsgActive:t.receiveAddressTipShow}},[t._v(t._s(t.$t("transferOut.text8")))])]):t._e(),t._v(" "),i("div",{staticClass:"inputTipBox"},[i("div",{staticClass:"inputTip-title"},[1===t.transferType?i("span",[i("i",[t._v("2.")]),t._v(t._s(t.$t("transferOut.text9"))+t._s(t._f("fourNumber")(t.userBalanceSIE))+" SIE）")]):t._e(),t._v(" "),2===t.transferType?i("span",[i("i",[t._v("2.")]),t._v(t._s(t.$t("transferOut.text9"))+t._s(t._f("fourNumber")(t.userBalanceSIE*(1-t.outEthRate/100)))+" SIE）")]):t._e()]),t._v(" "),i("div",{staticClass:"inputTipDiv inputTipDiv-flex"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.transferNum,expression:"transferNum",modifiers:{trim:!0}}],staticClass:"secret-inputTip secret-input",attrs:{type:"number",placeholder:t.$t("transferOut.text10")},domProps:{value:t.transferNum},on:{input:[function(e){e.target.composing||(t.transferNum=e.target.value.trim())},t.checkTransferNum],focus:function(e){t.transferNumTipShow=!1},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),i("span",{staticClass:"inputTipMsg",class:{inputTipMsgActive:t.transferNumTipShow}},[t._v(t._s(t.$t("transferOut.text10")))])]),t._v(" "),2===t.transferType?i("p",{staticClass:"fee"},[t._v(t._s(t.$t("transferOut.text11"))+"："),i("span",[t._v(t._s(t._f("fourNumber")(t.feeNumber))+" SIE")])]):t._e(),t._v(" "),i("button",{staticClass:"secret-btn",on:{click:function(e){return t.completeFun()}}},[t._v(t._s(t.$t("transferOut.text12")))])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.tradePasswordShow,expression:"tradePasswordShow"}],staticClass:"myPopup"},[i("div",{staticClass:"myPopup-tip"},[i("a",{staticClass:"close-btn",on:{click:function(e){t.tradePasswordShow=!1}}},[i("img",{attrs:{src:s("KOGE"),alt:""}})]),t._v(" "),i("h3",{staticClass:"title"},[t._v(t._s(t.$t("popoup.text1")))]),t._v(" "),i("p",{staticClass:"subtitle"},[t._v(t._s(t.$t("popoup.text2")))]),t._v(" "),i("router-link",{staticClass:"secret-btn",attrs:{tag:"button",to:"/safeSetting"}},[t._v(t._s(t.$t("popoup.text3")))])],1)]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.bindPhoneShow,expression:"bindPhoneShow"}],staticClass:"myPopup"},[i("div",{staticClass:"myPopup-tip"},[i("a",{staticClass:"close-btn",on:{click:function(e){t.bindPhoneShow=!1}}},[i("img",{attrs:{src:s("KOGE"),alt:""}})]),t._v(" "),i("h3",{staticClass:"title"},[t._v(t._s(t.$t("popoup.text4")))]),t._v(" "),i("router-link",{staticClass:"secret-btn",attrs:{tag:"button",to:"/bindPhone"}},[t._v(t._s(t.$t("popoup.text5")))])],1)]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.verificationShow,expression:"verificationShow"}],staticClass:"myPopup verificationPopup"},[i("div",{staticClass:"myPopupBox"},[i("div",{staticClass:"verificationForm"},[i("h3",{staticClass:"secret-title"},[t._v(t._s(t.payTitle))]),t._v(" "),i("div",{staticClass:"inputTipBox"},[i("div",{staticClass:"inputTip-title"},[i("span",[t._v(t._s(t.$t("popoup.text7")))])]),t._v(" "),i("div",{staticClass:"inputTipDiv"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.safePassword,expression:"safePassword",modifiers:{trim:!0}}],staticClass:"secret-inputTip secret-input",attrs:{type:"password",placeholder:t.$t("popoup.text8")},domProps:{value:t.safePassword},on:{focus:function(e){t.safePasswordTipShow=!1},input:function(e){e.target.composing||(t.safePassword=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),i("span",{staticClass:"inputTipMsg",class:{inputTipMsgActive:t.safePasswordTipShow}},[t._v(t._s(t.$t("popoup.text8")))])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:2===t.userInfo.openGoogleCode,expression:"userInfo.openGoogleCode === 2"}],staticClass:"inputTipBox"},[i("div",{staticClass:"inputTip-title"},[i("span",[t._v(t._s(t.$t("popoup.text9")))])]),t._v(" "),i("div",{staticClass:"inputTipDiv"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.payCode,expression:"payCode",modifiers:{trim:!0}}],staticClass:"secret-inputTip secret-input",attrs:{type:"text",placeholder:t.$t("popoup.text10")},domProps:{value:t.payCode},on:{focus:function(e){t.ggCodeTipShow=!1},input:function(e){e.target.composing||(t.payCode=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),i("span",{staticClass:"inputTipMsg",class:{inputTipMsgActive:t.ggCodeTipShow}},[t._v(t._s(t.$t("popoup.text10")))])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:2!==t.userInfo.openGoogleCode&&2===t.userInfo.openMobileCode,expression:"userInfo.openGoogleCode !== 2 && userInfo.openMobileCode === 2"}],staticClass:"inputTipBox"},[i("div",{staticClass:"inputTip-title"},[i("span",[t._v(t._s(t.$t("popoup.text11")))])]),t._v(" "),i("div",{staticClass:"inputTipDiv"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.payCode,expression:"payCode",modifiers:{trim:!0}}],staticClass:"secret-inputTip secret-input",attrs:{type:"password",placeholder:t.$t("popoup.text12")},domProps:{value:t.payCode},on:{focus:function(e){t.phoneCodeTipShow=!1},input:function(e){e.target.composing||(t.payCode=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),i("button",{ref:"sendMsg",staticClass:"secret-btn",on:{click:function(e){return t.sendPhoneCode()}}},[t._v(t._s(t.$t("popoup.text13")))])]),t._v(" "),i("span",{staticClass:"inputTipMsg",class:{inputTipMsgActive:t.phoneCodeTipShow}},[t._v(t._s(t.$t("popoup.text12")))])])]),t._v(" "),i("div",{staticClass:"popupBtn"},[i("button",{staticClass:"secret-btn",on:{click:function(e){t.verificationShow=!1}}},[t._v(t._s(t.$t("popoup.text14")))]),t._v(" "),i("button",{staticClass:"secret-btn",on:{click:function(e){return t.confirmTransfer()}}},[t._v(t._s(t.$t("popoup.text15")))])])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.emailDialogShow,expression:"emailDialogShow"}],staticClass:"myPopup verificationPopup"},[i("div",{staticClass:"myPopupBox"},[i("div",{staticClass:"verificationForm"},[i("h3",{staticClass:"secret-title"},[t._v(t._s(t.$t("login.getBackPwd.text11")))]),t._v(" "),i("div",{staticClass:"inputTipDiv"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.fourCode,expression:"fourCode",modifiers:{trim:!0}}],staticClass:"secret-inputTip secret-input",attrs:{type:"text",placeholder:t.$t("log.fiat.text16")},domProps:{value:t.fourCode},on:{input:function(e){e.target.composing||(t.fourCode=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),i("div",{staticClass:"error-desc"},[t._v(t._s(t.errorDesc))])]),t._v(" "),i("div",{staticClass:"popupBtn"},[i("button",{staticClass:"secret-btn",on:{click:function(e){t.emailDialogShow=!1}}},[t._v(t._s(t.$t("popoup.text14")))]),t._v(" "),i("button",{staticClass:"secret-btn",on:{click:t.sureEmailCode}},[t._v(t._s(t.$t("popoup.text15")))])])])])])},staticRenderFns:[]};var d=s("VU/8")(c,u,!1,function(t){s("6zoR")},"data-v-d96a53f2",null);e.default=d.exports}});